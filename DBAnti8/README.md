# データベース設計のアンチパターンを学ぶ8

[課題内容](https://airtable.com/appPxhCPFYGqqN9YU/tblVlFr2q4lIqDKYc/viwX8r6DpCRp80swL/recCiBp81yj2hVyot?blocks=hide)

## 課題1

- 重複の可能性があるので一意にならず、アプリ側での制御が必要となる。
- 文字列のため意図しない文字列が入ってしまう可能性があり、こちらもアプリ側での制御が必要になってしまう。
- 外部キーに設定された場合、主キーの文字列がかなり長くなってしまうとパフォーマンスに影響する。
- 値を変えなければいけなくなった時にリレーションを貼っていたらデータの不整合が発生する（一緒に更新すればいいが）

## 課題2

- サロゲートキーを追加

[ダイアグラム](https://dbdiagram.io/d/61c7fc853205b45b73cc9a72)


## 課題3

- 営業業務管理システムで、顧客のコード(ex. t1234567)を割り振っているが、絶対に重複しないため顧客テーブルの主キーは「顧客コード varchar」とした。

## 参考

[MySQLのプライマリーキーの型指定](https://qiita.com/nkriskeeic/items/3f22c1ebe0dfb5232d9d)