# フロントエンドのレンダリングパターンを学ぶ

## 課題1

### SSR

サーバーサイドでレンダリングする手法

- データ取得のタイミング
ページへのアクセス毎にサーバー側で取得
- レンダリングのタイミング
ページへのアクセス毎にサーバー側で生成
- SEO
表示速度が早く、SEOに有利

### CSR

クライアントサイドでレンダリングをする手法

- データ取得のタイミング
ページへのアクセス時にクライアント側で非同期に取得
- レンダリングのタイミング
ページへのアクセス時にクライアント側でJSを使ってレンダリング
- SEO
初回のページ表示時にはクローラーがJavaScriptを実行しない場合があり、クローラーがコンテンツを正しく認識できない場合がある。そのためSEOに不利

### SSG

静的なサイトを事前にビルドしておく手法

- データ取得のタイミング
ビルド時
- レンダリングのタイミング
ビルド時
- SEO
表示速度が一番早く、SEOにも一番有利


### 使い分け

- CSR: 他のレンダリングタイプと併用できる。初期描画が重要でなく、リアルタイム性が重視されるページに向く
- SSG: getStaticProps を使うとビルド時に静的ページとして生成される。初期描画が高速で、パフォーマンスに優れるが、リアルタイム性が重視されるページには向かない
- SSR: getServerSidePropsを使うとアクセス時にサーバーでページが生成されるようになる。初期描画が重要かつ、リアルタイム性が重視されるページに使う。パフォーマンスは悪い。

### 参考

https://zenn.dev/hinoshin/articles/02a5e5a1c88484

https://www.gaji.jp/blog/2022/08/08/10715/

https://qiita.com/cheez921/items/245860c839f7e3a15a69

## 課題2

https://github.com/shun57/next-rendering/commit/3fdc5d16a06a3c69e5d83d887fd2f7add06d6adb

### ビルド後の差分

1. ssrの場合は、.next/server/pages/ssr.htmlが生成されるが、ssgの場合は生成されない
ssrの場合はビルド時にページを生成するため、ssgはサイトアクセス時にページ生成のため、ビルド時にはhtmlが生成されない

## 課題3

### SSR,SSG,CSRどれを採用すべきか？

- 週1回更新されるブログ：SSG（更新頻度が低いため）
- ユーザーのコメントが随時追加されるクックパッドのようなサービス：SSR（更新頻度は中位でスピードも必要なため）
- freeeのような会計サービス：SSR（更新頻度は中位でスピードも必要なため）
- 経営指標（OKRやKPIなど）を管理する社内サービス：SSG（更新頻度が低いため）
- 社内SNS：CSR（更新頻度が高く、リアルタイム性が重視されるため）
