# DBモデリング1

[課題1](./課題1.svg)

### テーブル構成概要

|テーブル名|説明|
|:--|:--|
|寿司|お好み寿司マスタ|
|セットメニュー|セットメニューマスタ|
|セットメニュー種類|セットメニューの種類マスタ(ex.盛り込み)|
|セットオプション|セットメニュー毎のオプション設定用(ex.化粧箱入り)|
|注文者|注文者の管理|
|注文|１回の注文用|
|注文詳細|注文の詳細|

### 懸念点

- 注文詳細に寿司IDとセットメニューIDがどちらも入りうるためNULL許可が必要
- 寿司とセットメニューの項目がほぼ被っている

## 課題2

[課題2](./課題2.svg)

### 要望

1. シャリの追加
2. セットと個別別で売り上げを毎月確認したい

### テーブル構成概要

|テーブル名|説明|
|:--|:--|
|商品|お好み寿司、セットメニューマスタ|
|商品種類|商品の種類マスタ(ex.100円寿司、盛り込み)|
|商品オプション|商品オプション設定用(ex.化粧箱入り)|
|注文者|注文者の管理|
|注文|１回の注文用|
|注文詳細|注文の詳細|
|注文オプション|わさび抜きなどのオプション管理|

### 変更点

1. 商品とセットの区別は種別を追加することで注文詳細のIDのNULLを避ける。
2. 注文オプションにわさび抜きを持たせる。オプションに分けることで後からさらに追加したいとなったときに注文詳細がダメージを受けづらい

### 要望への対応

- シャリの追加  
変更点の2.で対応できる。
- セットと個別別で売り上げを毎月確認したい  
注文->注文詳細->商品  
WHERE　注文.支払い日時 =　今月  
WHERE　商品ステータス.個別  
で取得できる

### 修正
- 種類テーブルを追加し、商品種類に表示順を持たせる
- これにより化粧箱入りも表現できるはず  
　例：　種類-地元に生まれた味　表示順-1 商品-鮨八宝巻  
       種類-地元に生まれた味　表示順-2 商品-化粧箱入り


## 課題3

## 今後発生しそうな追加仕様

- 別のメニュー種類を追加したい(デザートなど)
- お好みすしの並び順を変えたい
- セットメニューの内訳を表示したい
- 写真を表示したい